<head>
  <title>webcontrol</title>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
</head>

<body>
  <h1>ColorDuino Sequencer</h1>
  
  {{> main}}
</body>

<template name="main">

  {{#with matrix}}
    {{#if arduino}}
      <pre>Colorduino detected at: {{arduino.port.comName}} @ {{formatNumber arduino.baudrate '0.0a'}}bps
      </pre>
      <!-- {{> console}}
      {{> bitmask }}
      {{> setColor }}  --> 
      {{> sequencer}}
      
    {{else}}
      <div>
      please connect your Colorduino
      </div>
    {{/if}}
  {{/with}}


</template>



<template name="bitmask">
  <h2>Bitmask</h2>
    <div class="matrix">
    {{#each pixels}}
      <div class="pixel unselectable"
      style="-webkit-transform: translate3d({{x}}px,{{y}}px,0);
        {{#if pixel}}
        background-color: rgb({{../color}});
        box-shadow: 0px 0px 90px rgba({{../color}},0.5);
        {{/if}}"
      data-row="{{row}}"
      data-column="{{column}}">&nbsp;</div>
    {{/each}}
    </div>
</template>

<template name="setColor">
  <h2>SetColor</h2>
  <div>
    <input name="color" type=color value="{{hexColor color}}"/>
    <button data-action="clear">clear</button>
  </div>
</template>




