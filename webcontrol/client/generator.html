<template name="generator">
  <div class="generator">
    <!-- <textarea class="code setup"></textarea> -->
    <h2>Pattern generator</h2>
    <p>params: 'canvas','ctx','state'</p>
    <textarea class="code draw" cols=80 rows=8>if (state.count === undefined) state.count = 0;

if (state.count == 0) {
  ctx.fillStyle = 'blue'
  ctx.fillRect(4,4,4,4);
  ctx.fillStyle = 'green'
  ctx.fillRect(0,4,4,4);
  ctx.fillStyle = 'red'
  ctx.fillRect(0,0,4,4);
  ctx.clearRect(4,0,4,4);
}
else if (state.count == 1) {
  ctx.fillStyle = 'blue'
  ctx.fillRect(0,4,4,4);
  ctx.fillStyle = 'green'
  ctx.fillRect(0,0,4,4);
  ctx.fillStyle = 'red'
  ctx.fillRect(4,0,4,4);
  ctx.clearRect(4,4,4,4);
}
else if (state.count == 2) {
  ctx.fillStyle = 'blue'
  ctx.fillRect(0,0,4,4);
  ctx.fillStyle = 'green'
  ctx.fillRect(4,0,4,4);
  ctx.fillStyle = 'red'
  ctx.fillRect(4,4,4,4);
  ctx.clearRect(0,4,4,4);
}
else if (state.count == 3) {
  ctx.fillStyle = 'blue'
  ctx.fillRect(4,0,4,4);
  ctx.fillStyle = 'green'
  ctx.fillRect(4,4,4,4);
  ctx.fillStyle = 'red'
  ctx.fillRect(0,4,4,4);
  ctx.clearRect(0,0,4,4);
}

state.count++;
state.count%=4;     
    </textarea>
  </div>
</template>
